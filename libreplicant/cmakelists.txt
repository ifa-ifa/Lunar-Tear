set(LIBREPLICANT_SOURCES
    src/stbl/stbl.cpp
    src/bxon/bxon.cpp
    "src/bxon/archive_param.cpp"
 "src/arc/arc.cpp" "src/pack/pack.cpp"  "src/patcher.cpp" "src/dds.cpp"  "src/bxon/texture.cpp" )


find_package(zstd CONFIG REQUIRED)
find_package(DirectXTex CONFIG REQUIRED)


add_library(libreplicant STATIC ${LIBREPLICANT_SOURCES} )

target_include_directories(libreplicant PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/include)


target_include_directories(libreplicant
    PUBLIC
        $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>
        $<INSTALL_INTERFACE:include>
)

target_link_libraries(libreplicant zstd::libzstd Microsoft::DirectXTex) 

get_target_property(_dirs Microsoft::DirectXTex INTERFACE_INCLUDE_DIRECTORIES)
message(STATUS "DirectXTex include dirs: ${_dirs}")